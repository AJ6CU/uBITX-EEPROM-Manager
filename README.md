# EEPROM BACKUP/RESTORER/UPDATER FOR SYSTEMS RUNNING KD8CEC

## Purpose
This project is to provide a platform independent, open-source replacement for the KD8CEC uBITX Memory Manager (see http://hamskey.com). The uBITX Memory Manager provides the means to manage the system parameters that the KD8CEC software maintains in EEPROM (on chip for the Arduino Nano, off chip for future other MCU's). The uBITX Memory Manager also provides the critical ability to backup and restore the contents of the EEPROM. 

Unfortunately, and unlike all the rest of the KD8CEC family of software, the source code to the uBITX Memory manager was never released nor was it natively ported to platforms other than Windows. The last release of the tool (V1.110) happened about 3.5 years ago. 

The latest release of uBITX Memeory Manager is hosted at:
https://github.com/phdlee/ubitx/releases/download/v1.11/uBITX_Manager_V1.11.zip

I had originally not planned to tackle this task. However, in porting KD8CEC v1.2 to new hardware platforms, the uBITX Memory Manager started to show what looked like incompatibilities (e.g., works with the Arduino IoT, fails with the Arduino BLE and RP Connect). So I was left with no choice but to take this detour...

## IMPLEMENTATION
The code is being written in Python. Eventually, using standard Python tools, I expect to be able to generate an executable for Windows, MacOS, and Linux. This family tools is envisioned to be 4 programs:

- uBITXgeneratebackup: this generates a binary file of the contents of your EEPROM. This file is compatible with the existing backup file generated by uBITX Memory Manager.
- uBITXrestorefrombackup: This takes the binary backup file, either generated by the original uBITX Memory Manager or the uBITXgeneratebackup command above and writes it your EEPROM.
- uBITXgeneratemodfile: This program takes the existing contents of the EEPROM, merges it into a commented XML document. Subsequently, the end user can modify/tailor to their needs.
- uBITXapplymodfile: This takes the tailored modfile (XML) and updates the EEPROM

There needs to be a GUI based tool and I am now considering options in how to implement it. The idea that users will have to directly modify an XML file to tailor their system is going to create a never-ending set of problems as people accidently delete characters, comment beginning/endings, or even whole sections. It is a major weakness of the current situation.

## STATUS
THIS IS A WORK IN PROGRESS! People familiar with software development, XML, and Python, that also have solid backups of their EEPROM using the existing uBITX Memory Manager, are welcome to try it out and report any issues.

As of 10/4/2022, I believe that I have basic full functionality completed on all 4 of the commands above. 

uBITXgeneratebackup and uBITXrestorefrombackup are basically functional. I have generated backup files from both the original uBITX Memory Manager and my uBITXgeneratebackup, and when I compared them, they were identical. Similarly, I have crossed restored backups (uBITX Memory Manager using a backup generated from uBITXgeneratebackup and uBITXgeneratebackup using a backup from uBITX Memory Manager) and the contents of the EEPROM were identical. BUT THIS IS NOT AN EXHAUSTED TEST! Please keep your own backups for the situations when something goes wrong! Sorry to be a pessimist here, but something will go wrong and you need to be prepared.


## SCHEDULE FOR REMAINING TOOLS
I am currently working on refactoring uBITXgeneratemodfile by applying the design pattern I used in uBITXapplymodfile. This should make it easier to transistion these commands to a GUI based solution later. I expect, depending on other commitments, the refactoring of uBITXgeneratemodfile will be completed by the 14th of October. Then after a couple week break, i will transistion to writing the GUI tool.  

## USING THE TOOLS
To use either tool at this stage, you need to know how to use an editor, install python packages, and run python. I happen to be using PyCharm, but admit my ignorance might have led me not to choose the optimal tool. Specific values that need to be changes, are identified in the README files in the appropriate directory.

I can be reached with thru my email on QRZ or thru topics on the groups.io BITX20 group. You should also be able to raise Issues on the GitHub. Let me know if you have an issue here.

73
Mark
AJ6CU  

Copyright (C) 2022,  Mark Hatch

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
